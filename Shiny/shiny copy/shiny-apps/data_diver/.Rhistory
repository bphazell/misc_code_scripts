?plyr
?ddply
??ddply
library(shiny)
df = read.xls("~/Dropbox (CrowdFlower)/ebay_wo_normalize/normalize/source/xlsx/normalized_output_site_3.xlsx", sheet=1, method="csv", perl="perl")
library("xlsx", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
df = read.xls("~/Dropbox (CrowdFlower)/ebay_wo_normalize/normalize/source/xlsx/normalized_output_site_3.xlsx", sheet=1, method="csv", perl="perl")
df = read.xls("~/Dropbox (CrowdFlower)/ebay_wo_normalize/normalize/source/xlsx/normalized_output_site_3.xlsx", sheet=1, method="csv", perl="perl")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("spatial", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
detach("package:spatial", unload=TRUE)
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_6_for_client/yes_10_6_855.csv")
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
options(stringsAsFactors=F)
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
new = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find//url_finalized_units.csv")
news = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find//url_finalized_units.csv")
options(stringsAsFactors=F)
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
news = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find//url_finalized_units.csv")
left = news[ news$]
left = news[ news$customer_id %in% old$customer_id ,]
left = news[ !(news$customer_id %in% old$customer_id) ,]
uni = unique(old$customer_id)
View(old)
sour = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/source/opower_source.csv")
uni = unique(sour$customer_id)
uni = unique(old$customer_id)
uni = unique(sour$customer_id)
uni = unique(old$customer_id)
left = news[ !(news$customer_id %in% old$customer_id) ,]
uni = unique(news$customer_id)
uni = unique(left$customer_id)
output = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find//full_output.csv")
old_dupes = old[dulicated(old$customer_id) == T,]
old_dupes = old[duplicated(old$customer_id) == T,]
View(old_dupes)
old_full = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output/job1_output_10_7.csv")
old_dupes_full = old_full[duplicated(old_full$customer_id) == T,]
uni_full = unique(old_full)
options(stringsAsFactors=F)
sour = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/source/opower_source.csv")
old_full = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output/job1_output_10_7.csv")
uni_full = unique(old_full)
old_dupes_full = old_full[duplicated(old_full$customer_id) == T,]
new_with_gold = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/full_output_with_gold.csv")
new_deduped = new_with_gold[duplicated(new_with_gold$customer_id) == F,]
View(new_deduped)
View(new_with_gold)
for ( i in 1:nrow (new_deduped)){
if(new_deduped$X_golden[i] == "true"){
new_deduped$official_url_found_yn[i] = new_deduped$official_url_found_yn_gold[i]
new_deduped$official_website_url_worker_input[i] = new_deduped$official_website_url_gold[i]
print(i)
}
}
gold = new_deduped$X_golden == "true"
gold = new_deduped[new_deduped$X_golden == "true",]
View(gold)
setwd("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/")
write.csv(new_deduped, "url_full_deduped.csv",row.names=F, na="")
name = names(new_deduped)
new_names = gsub("X_","_", name)
colnames(new_deduped) = new_names
View(new_deduped)
write.csv(new_deduped, "url_full_deduped.csv",row.names=F, na="")
df = new_deduped
yes = df[ df$official_url_found_yn == "yes",]
no = df[ df$official_url_found_yn == "no",]
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
old_dupes = old[duplicated(old$customer_id) == T,]
new_yes = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_for_job_2.csv")
no = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_for_job_2.csv")
yes = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_finalized_units.csv")
uni = unique(yes$customer_id)
uni = unique(no$customer_id)
left = yes[ yes$customer_id %in% old$customer_id,]
old_unique = old[duplicated(old$customer_id) == F,]
left = yes[ yes$customer_id %in% old_unique$customer_id,]
uni = unique(yes$customer_id)
uni2 = unique(old$customer_id)
options(stringsAsFactors=F)
sour = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/source/opower_source.csv")
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
old_unique = old[duplicated(old$customer_id) == F,]
yes = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_finalized_units.csv")
left = yes[ yes$customer_id %in% old_unique$customer_id,]
options(stringsAsFactors=F)
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
old_unique = old[duplicated(old$customer_id) == F,]
yes = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_finalized_units.csv")
left = yes[ yes$customer_id %in% old_unique$customer_id,]
left = yes[ !(yes$customer_id %in% old_unique$customer_id),]
View(yes)
no = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_for_job_2.csv")
change = no[ (no$customer_id %in% old_unique$customer_id),]
View(change)
full = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_full_deduped.csv")
full_left = full[ full$customer_id %in% old_unique$customer_id,]
full_left = full[ !(full$customer_id %in% old_unique$customer_id),]
for ( i in 1:nrow (full_left)){
if(full_left$official_url_found_yn[i] == "no"){
full_left$official_website_url[i] = ""
full_left$official_website_url_worker_input[i] = ""
print(i)
}
}
yes_pack = full_left[ full_left$official_url_found_yn == "yes",]
no_job2 = full_left[ full_left$official_url_found_yn == "no",]
setwd("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/")
write.csv(yes_pack,"remaining_finalized_units_for_internal_11398.csv",row.names=F,na="")
setwd("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/")
write.csv(yes_pack,"remaining_finalized_units_for_internal_11398.csv",row.names=F,na="")
write.csv(no_job2,"no_url_for_yelp_find_13642.csv",row.names=F,na="")
x_remove = function(df)
name = names(df)
new_names = gsub("X_","_", name)
colnames(df) = new_names
}
x_remove = function(df){
name = names(df)
new_names = gsub("X_","_", name)
colnames(df) = new_names
}
yes_pack = x_remove(yes_pack)
no_job2 = x_remove(no_job2)
x_remove = function(df){
name = names(df)
new_names = gsub("X_","_", name)
colnames(df) = new_names
return(df)
}
options(stringsAsFactors=F)
#sour = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/source/opower_source.csv")
old = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/partial_output/10_7_partial_output//yes_partial_for_pack_5934.csv")
old_unique = old[duplicated(old$customer_id) == F,]
full = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_full_deduped.csv")
full_left = full[ !(full$customer_id %in% old_unique$customer_id),]
for ( i in 1:nrow (full_left)){
if(full_left$official_url_found_yn[i] == "no"){
full_left$official_website_url[i] = ""
full_left$official_website_url_worker_input[i] = ""
print(i)
}
}
yes_pack = full_left[ full_left$official_url_found_yn == "yes",]
no_job2 = full_left[ full_left$official_url_found_yn == "no",]
no = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_for_job_2.csv")
yes = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/url_finalized_units.csv")
left = yes[ !(yes$customer_id %in% old_unique$customer_id),]
change = no[ (no$customer_id %in% old_unique$customer_id),]
# new_with_gold = read.csv("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/full_output_with_gold.csv")
#
# new_deduped = new_with_gold[duplicated(new_with_gold$customer_id) == F,]
#
# for ( i in 1:nrow (new_deduped)){
#   if(new_deduped$X_golden[i] == "true"){
#     new_deduped$official_url_found_yn[i] = new_deduped$official_url_found_yn_gold[i]
#     new_deduped$official_website_url_worker_input[i] = new_deduped$official_website_url_gold[i]
#     print(i)
#   }
# }
# setwd("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/")
# name = names(new_deduped)
# new_names = gsub("X_","_", name)
# colnames(new_deduped) = new_names
#
# write.csv(new_deduped, "url_full_deduped.csv",row.names=F, na="")
#
# df = new_deduped
# yes = df[ df$official_url_found_yn == "yes",]
# no = df[ df$official_url_found_yn == "no",]
#
setwd("~/Dropbox (CrowdFlower)/Pilots/opower/outuput/full_output/url_find/")
x_remove = function(df){
name = names(df)
new_names = gsub("X_","_", name)
colnames(df) = new_names
return(df)
}
yes_pack = x_remove(yes_pack)
no_job2 = x_remove(no_job2)
View(no_job2)
runApp("~/Desktop/shiny/file_converter_v4/")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
library("shiny", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
runApp("~/Desktop/shiny/file_converter_v4/")
source('~/.active-rstudio-document')
setwd("~/Dropbox (CrowdFlower)/Pilots/glassdoor/")
setwd("~/Dropbox (CrowdFlower)/Pilots/glassdoor/")
df = read.xlsx2("email_alert_pilot_test_set_10_8_14.xlsx",header=TRUE,sheetIndex=1)
View(df)
runApp("~/Desktop/shiny/file_converter_v4/")
?read.xlsx2
runApp("~/Desktop/shiny/file_converter_v4/")
runApp("~/Desktop/shiny/file_converter_v4/")
