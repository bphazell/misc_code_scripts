Aggregation

CML allows you to specify how the CrowdFlower platform will summarize the result for each CML field in your form. The consolidation of one or more contributor responses into a summarized result is referred to here as 'aggregation'. The output from this process can be found in your job's aggregated report or in the results hash of a unit's JSON payload. All parent CML form elements accept the [code]aggregation[/code] attribute. This attribute moderates the aggregation method used to create your results. Below is an overview of the different types of aggregation we offer and the CML tags that use this type of aggregation by default.

[code]aggregation="agg"[/code]
	- Default aggregation for: cml:checkbox, cml:radios, cml:taxonomy, cml:checkboxes and cml:select
	- Returns a single "top" result - AKA the contributor response with the highest confidence (agreement weighted by contributor trust) for the given field. All other responses will be ignored. A numerical confidence value between 0 & 1 is also returned.

[code]aggregation="all"[/code]
	- Default aggregation for: cml:text and cml:textarea
	- Returns all unique responses submitted by all trusted contributors for the given field. The result will be a newline '\n' delimited list in the Agreggated report.

[code]aggregation="avg"[/code]
	- Default aggregation for: cml:rating
	- Returns a numeric average calculated based on all responses. Variance will also be returned.

[code]aggregation="agg_x"[/code]
	- Returns the top [code]x[/code] responses (based on confidence) for the given field. This is useful when there are multiple correct responses to a question (e.g., 'Select all that apply' question formats). If you want the top three responses ranked by confidence, then specify [code]agg_3[/code] etc. It is important to note that this setting will result in up-to [code]x[/code] responses whenever that many unique responses are available, even if the last response has very low confidence or no agreement. The result will be a newline '\n' delimited list in the Aggregated report.

[code]aggregation="cagg_x"[/code]
	- Returns all responses with a confidence greater than the specified value for [code]x[/code] for the given field. [code]x[/code] can be any floating point number between 0 & 1. Always prefix '0' for decimals; for example, [code]cagg_0.4[/code] will return all responses with a confidence score greater than 0.4. The result will be a newline '\n' delimited list in the Aggregated report. The aggregate result will be empty if no responses feature a confidence score higher than the specified value.